/**
 * jQuery bxSlider v3.1
 * http://bxslider.com
 *
 * Copyright 2010, Steven Wanderski
 * http://bxcreative.com
 *
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 */
(function(e){e.fn.bxSlider=function(t){function j(){F(t.startingSlide);if(t.mode=="horizontal"){i.wrap('<div class="'+t.wrapperClass+'" style="width:'+c+'px; position:relative;"></div>').wrap('<div class="bx-window" style="position:relative; overflow:hidden; width:'+c+'px;"></div>').css({width:"999999px",position:"relative",left:"-"+(t.infiniteLoop?T:0)+"px"});i.children(t.childSelector).css({width:f,"float":"left",listStyle:"none"});u=i.parent().parent();o.addClass("bx-child")}else if(t.mode=="vertical"){i.wrap('<div class="'+t.wrapperClass+'" style="width:'+E+'px; position:relative;"></div>').wrap('<div class="bx-window" style="width:'+E+"px; height:"+h+'px; position:relative; overflow:hidden;"></div>').css({height:"999999px",position:"relative",top:"-"+N+"px"});i.children(t.childSelector).css({listStyle:"none",height:S});u=i.parent().parent();o.addClass("bx-child")}else if(t.mode=="fade"){i.wrap('<div class="'+t.wrapperClass+'" style="width:'+E+'px; position:relative;"></div>').wrap('<div class="bx-window" style="height:'+S+"px; width:"+E+'px; position:relative; overflow:hidden;"></div>');i.children(t.childSelector).css({listStyle:"none",position:"absolute",top:0,left:0,zIndex:98});u=i.parent().parent();o.not(":eq("+x+")").fadeTo(0,0);o.eq(x).css("zIndex",99)}if(t.captions&&t.captionsSelector==null){u.append('<div class="bx-captions"></div>')}}function F(){if((t.mode=="horizontal"||t.mode=="vertical")&&t.infiniteLoop){var n=nt(o,0,t.moveSlideQty,"backward");e.each(n,function(t){i.prepend(e(this))});var r=o.length+t.moveSlideQty-1;var s=o.length-t.displaySlideQty;var u=r-s;var a=nt(o,0,u,"forward");if(t.infiniteLoop){e.each(a,function(t){i.append(e(this))})}}}function I(){if(t.nextImage!=""){nextContent=t.nextImage;nextType="image"}else{nextContent=t.nextText;nextType="text"}if(t.prevImage!=""){prevContent=t.prevImage;prevType="image"}else{prevContent=t.prevText;prevType="text"}J(nextType,nextContent,prevType,prevContent)}function q(){if(t.auto){clearInterval(d);if(!t.infiniteLoop){if(t.autoDirection=="next"){d=setInterval(function(){x+=t.moveSlideQty;if(x>_){x=x%o.length}r.goToSlide(x,false)},t.pause)}else if(t.autoDirection=="prev"){d=setInterval(function(){x-=t.moveSlideQty;if(x<0){negativeOffset=x%o.length;if(negativeOffset==0){x=0}else{x=o.length+negativeOffset}}r.goToSlide(x,false)},t.pause)}}else{if(t.autoDirection=="next"){d=setInterval(function(){r.goToNextSlide(false)},t.pause)}else if(t.autoDirection=="prev"){d=setInterval(function(){r.goToPreviousSlide(false)},t.pause)}}}else if(t.ticker){t.tickerSpeed*=10;e(".bx-child",u).each(function(t){C+=e(this).width();k+=e(this).height()});if(t.tickerDirection=="prev"&&t.mode=="horizontal"){i.css("left","-"+(C+T)+"px")}else if(t.tickerDirection=="prev"&&t.mode=="vertical"){i.css("top","-"+(k+N)+"px")}if(t.mode=="horizontal"){L=parseInt(i.css("left"));R(L,C,t.tickerSpeed)}else if(t.mode=="vertical"){A=parseInt(i.css("top"));R(A,k,t.tickerSpeed)}if(t.tickerHover){W()}}}function R(e,n,r){if(t.mode=="horizontal"){if(t.tickerDirection=="next"){i.animate({left:"-="+n+"px"},r,"linear",function(){i.css("left",e);R(e,C,t.tickerSpeed)})}else if(t.tickerDirection=="prev"){i.animate({left:"+="+n+"px"},r,"linear",function(){i.css("left",e);R(e,C,t.tickerSpeed)})}}else if(t.mode=="vertical"){if(t.tickerDirection=="next"){i.animate({top:"-="+n+"px"},r,"linear",function(){i.css("top",e);R(e,k,t.tickerSpeed)})}else if(t.tickerDirection=="prev"){i.animate({top:"+="+n+"px"},r,"linear",function(){i.css("top",e);R(e,k,t.tickerSpeed)})}}}function U(){if(t.startImage!=""){startContent=t.startImage;startType="image"}else{startContent=t.startText;startType="text"}if(t.stopImage!=""){stopContent=t.stopImage;stopType="image"}else{stopContent=t.stopText;stopType="text"}G(startType,startContent,stopType,stopContent)}function z(){u.children(".bx-window").hover(function(){if(b){r.suspendShow(false)}},function(){if(b){r.restartShow(false)}})}function W(){i.hover(function(){if(b){r.stopTicker(false)}},function(){if(b){r.startTicker(false)}})}function X(){o.not(":eq("+x+")").fadeTo(t.speed,0).css("zIndex",98);o.eq(x).css("zIndex",99).fadeTo(t.speed,1,function(){O=false;if(jQuery.browser.msie){o.eq(x).get(0).style.removeAttribute("filter")}t.onAfterSlide(x,o.length,o.eq(x))})}function V(n){if(t.pagerType=="full"&&t.pager){e("a",p).removeClass(t.pagerActiveClass);e("a",p).eq(n).addClass(t.pagerActiveClass)}else if(t.pagerType=="short"&&t.pager){e(".bx-pager-current",p).html(x+1)}}function J(n,i,s,o){var a=e('<a href="" class="bx-next"></a>');var f=e('<a href="" class="bx-prev"></a>');if(n=="text"){a.html(i)}else{a.html('<img src="'+i+'" />')}if(s=="text"){f.html(o)}else{f.html('<img src="'+o+'" />')}if(t.prevSelector){e(t.prevSelector).append(f)}else{u.append(f)}if(t.nextSelector){e(t.nextSelector).append(a)}else{u.append(a)}a.click(function(){r.goToNextSlide();return false});f.click(function(){r.goToPreviousSlide();return false})}function K(n){var i=o.length;if(t.moveSlideQty>1){if(o.length%t.moveSlideQty!=0){i=Math.ceil(o.length/t.moveSlideQty)}else{i=o.length/t.moveSlideQty}}var s="";if(t.buildPager){for(var a=0;a<i;a++){s+=t.buildPager(a,o.eq(a*t.moveSlideQty))}}else if(n=="full"){for(var a=1;a<=i;a++){s+='<a href="" class="pager-link pager-'+a+'">'+a+"</a>"}}else if(n=="short"){s='<span class="bx-pager-current">'+(t.startingSlide+1)+"</span> "+t.pagerShortSeparator+' <span class="bx-pager-total">'+o.length+"</span>"}if(t.pagerSelector){e(t.pagerSelector).append(s);p=e(t.pagerSelector)}else{var f=e('<div class="bx-pager"></div>');f.append(s);if(t.pagerLocation=="top"){u.prepend(f)}else if(t.pagerLocation=="bottom"){u.append(f)}p=u.children(".bx-pager")}p.children().click(function(){if(t.pagerType=="full"){var e=p.children().index(this);if(t.moveSlideQty>1){e*=t.moveSlideQty}r.goToSlide(e)}return false})}function Q(){var n=e("img",o.eq(x)).attr("title");if(n!=""){if(t.captionsSelector){e(t.captionsSelector).html(n)}else{u.children(".bx-captions").html(n)}}else{if(t.captionsSelector){e(t.captionsSelector).html("&nbsp;")}else{u.children(".bx-captions").html("&nbsp;")}}}function G(n,i,s,o){v=e('<a href="" class="bx-start"></a>');if(n=="text"){g=i}else{g='<img src="'+i+'" />'}if(s=="text"){y=o}else{y='<img src="'+o+'" />'}if(t.autoControlsSelector){e(t.autoControlsSelector).append(v)}else{u.append('<div class="bx-auto"></div>');u.children(".bx-auto").html(v)}v.click(function(){if(t.ticker){if(e(this).hasClass("stop")){r.stopTicker()}else if(e(this).hasClass("start")){r.startTicker()}}else{if(e(this).hasClass("stop")){r.stopShow(true)}else if(e(this).hasClass("start")){r.startShow(true)}}return false})}function Y(){if(!t.infiniteLoop&&t.hideControlOnEnd){if(x==M){u.children(".bx-prev").hide()}else{u.children(".bx-prev").show()}var e=Math.floor(_/t.displaySlideQty)*t.displaySlideQty;if(x>=e){u.children(".bx-next").hide()}else{u.children(".bx-next").show()}}}function Z(e,t){var n=i.find(" > .bx-child").eq(e).position();return t=="left"?n.left:n.top}function et(){var e=a.outerWidth()*t.displaySlideQty;return e}function tt(){var e=a.outerHeight()*t.displaySlideQty;return e}function nt(t,n,r,i){var s=[];var o=r;var u=false;if(i=="backward"){t=e.makeArray(t);t.reverse()}while(o>0){e.each(t,function(t,r){if(o>0){if(!u){if(t==n){u=true;s.push(e(this).clone());o--}}else{s.push(e(this).clone());o--}}else{return false}})}return s}var n={mode:"horizontal",childSelector:"",infiniteLoop:true,hideControlOnEnd:false,controls:true,speed:500,easing:"swing",pager:false,pagerSelector:null,pagerType:"full",pagerLocation:"bottom",pagerShortSeparator:"/",pagerActiveClass:"pager-active",nextText:"next",nextImage:"",nextSelector:null,prevText:"prev",prevImage:"",prevSelector:null,captions:false,captionsSelector:null,auto:false,autoDirection:"next",autoControls:false,autoControlsSelector:null,autoStart:true,autoHover:false,autoDelay:0,pause:3e3,startText:"start",startImage:"",stopText:"stop",stopImage:"",ticker:false,responsive:false,minSlides:1,maxSlides:50,tickerSpeed:5e3,tickerDirection:"next",tickerHover:false,wrapperClass:"bx-wrapper",startingSlide:0,displaySlideQty:1,moveSlideQty:1,randomStart:false,onBeforeSlide:function(){},onAfterSlide:function(){},onLastSlide:function(){},onFirstSlide:function(){},onNextSlide:function(){},onPrevSlide:function(){},buildPager:null};var t=e.extend(n,t);var r=this;var i="";var s="";var o="";var u="";var a="";var f="";var l="";var c="";var h="";var p="";var d="";var v="";var m="";var g="";var y="";var b=true;var w=false;var E=0;var S=0;var x=0;var T=0;var N=0;var C=0;var k=0;var L=0;var A=0;var O=false;var M=0;var _=o.length-1;this.goToSlide=function(e,n){if(!O){O=true;x=e;t.onBeforeSlide(x,o.length,o.eq(x));if(typeof n=="undefined"){var n=true}if(n){if(t.auto){r.stopShow(true)}}slide=e;if(slide==M){t.onFirstSlide(x,o.length,o.eq(x))}if(slide==_){t.onLastSlide(x,o.length,o.eq(x))}if(t.mode=="horizontal"){i.animate({left:"-"+Z(slide,"left")+"px"},t.speed,t.easing,function(){O=false;t.onAfterSlide(x,o.length,o.eq(x))})}else if(t.mode=="vertical"){i.animate({top:"-"+Z(slide,"top")+"px"},t.speed,t.easing,function(){O=false;t.onAfterSlide(x,o.length,o.eq(x))})}else if(t.mode=="fade"){X()}Y();if(t.moveSlideQty>1){e=Math.floor(e/t.moveSlideQty)}V(e);Q()}};var D,P;var H=function(t){var n=e(window).width();var i=e(window).height();if(D!=n||P!=i){D=n;P=i;r.autoUpdateDisplayQty()}};this.reloadSlider=function(n){t=e.extend(t,n);r.reloadShow()};var B;this.calculateDisplayQty=function(){return Math.floor(u.parent().width()/f)};this.autoUpdateDisplayQty=function(){var e=r.calculateDisplayQty();if(B!=e){B=e;r.reloadSlider({startingSlide:x})}};this.goToNextSlide=function(e){if(typeof e=="undefined"){var e=true}if(e){if(t.auto){r.stopShow(true)}}if(!t.infiniteLoop){if(!O){var n=false;x=x+t.moveSlideQty;if(x<=_){Y();t.onNextSlide(x,o.length,o.eq(x));r.goToSlide(x)}else{x-=t.moveSlideQty}}}else{if(!O){O=true;var n=false;x=x+t.moveSlideQty;if(x>_){x=x%o.length;n=true}t.onNextSlide(x,o.length,o.eq(x));t.onBeforeSlide(x,o.length,o.eq(x));if(t.mode=="horizontal"){var s=t.moveSlideQty*l;i.animate({left:"-="+s+"px"},t.speed,t.easing,function(){O=false;if(n){i.css("left","-"+Z(x,"left")+"px")}t.onAfterSlide(x,o.length,o.eq(x))})}else if(t.mode=="vertical"){var u=t.moveSlideQty*S;i.animate({top:"-="+u+"px"},t.speed,t.easing,function(){O=false;if(n){i.css("top","-"+Z(x,"top")+"px")}t.onAfterSlide(x,o.length,o.eq(x))})}else if(t.mode=="fade"){X()}if(t.moveSlideQty>1){V(Math.ceil(x/t.moveSlideQty))}else{V(x)}Q()}}};this.goToPreviousSlide=function(e){if(typeof e=="undefined"){var e=true}if(e){if(t.auto){r.stopShow(true)}}if(!t.infiniteLoop){if(!O){var n=false;x=x-t.moveSlideQty;if(x<0){x=0;if(t.hideControlOnEnd){u.children(".bx-prev").hide()}}Y();t.onPrevSlide(x,o.length,o.eq(x));r.goToSlide(x)}}else{if(!O){O=true;var n=false;x=x-t.moveSlideQty;if(x<0){negativeOffset=x%o.length;if(negativeOffset==0){x=0}else{x=o.length+negativeOffset}n=true}t.onPrevSlide(x,o.length,o.eq(x));t.onBeforeSlide(x,o.length,o.eq(x));if(t.mode=="horizontal"){var s=t.moveSlideQty*l;i.animate({left:"+="+s+"px"},t.speed,t.easing,function(){O=false;if(n){i.css("left","-"+Z(x,"left")+"px")}t.onAfterSlide(x,o.length,o.eq(x))})}else if(t.mode=="vertical"){var a=t.moveSlideQty*S;i.animate({top:"+="+a+"px"},t.speed,t.easing,function(){O=false;if(n){i.css("top","-"+Z(x,"top")+"px")}t.onAfterSlide(x,o.length,o.eq(x))})}else if(t.mode=="fade"){X()}if(t.moveSlideQty>1){V(Math.ceil(x/t.moveSlideQty))}else{V(x)}Q()}}};this.goToFirstSlide=function(e){if(typeof e=="undefined"){var e=true}r.goToSlide(M,e)};this.goToLastSlide=function(){if(typeof e=="undefined"){var e=true}r.goToSlide(_,e)};this.getCurrentSlide=function(){return x};this.getSlideCount=function(){return o.length};this.suspendShow=function(e){clearInterval(d);if(typeof e=="undefined"){var e=true}if(e&&t.autoControls){v.html(g).removeClass("stop").addClass("start")}};this.restartShow=function(e){if(typeof e=="undefined"){var e=true}if(b){q()}if(e&&t.autoControls){v.html(y).removeClass("start").addClass("stop")}};this.stopShow=function(e){b=false;this.suspendShow(e)};this.startShow=function(e){b=true;this.restartShow(e)};this.stopTicker=function(e){i.stop();if(typeof e=="undefined"){var e=true}if(e&&t.ticker){v.html(g).removeClass("stop").addClass("start");b=false}};this.startTicker=function(e){if(t.mode=="horizontal"){if(t.tickerDirection=="next"){var n=parseInt(i.css("left"));var r=C+n+o.eq(0).width()}else if(t.tickerDirection=="prev"){var n=-parseInt(i.css("left"));var r=n-o.eq(0).width()}var s=r*t.tickerSpeed/C;R(L,r,s)}else if(t.mode=="vertical"){if(t.tickerDirection=="next"){var u=parseInt(i.css("top"));var r=k+u+o.eq(0).height()}else if(t.tickerDirection=="prev"){var u=-parseInt(i.css("top"));var r=u-o.eq(0).height()}var s=r*t.tickerSpeed/k;R(A,r,s);if(typeof e=="undefined"){var e=true}if(e&&t.ticker){v.html(y).removeClass("start").addClass("stop");b=true}}};this.initShow=function(){i=e(this);s=i.clone();o=i.children(t.childSelector);u=i;a=i.children(t.childSelector+":first");f=a.width();E=0;l=a.outerWidth();S=0;O=false;p="";x=0;T=0;N=0;d="";v="";m="";g="";y="";b=true;w=false;C=0;k=0;L=0;A=0;M=0;_=o.length-1;o.each(function(t){if(e(this).outerHeight()>S){S=e(this).outerHeight()}if(e(this).outerWidth()>E){E=e(this).outerWidth()}});if(t.randomStart){var n=Math.floor(Math.random()*o.length);x=B=n;T=l*(t.moveSlideQty+n);N=S*(t.moveSlideQty+n)}else{x=t.startingSlide;T=l*(t.moveSlideQty+t.startingSlide);N=S*(t.moveSlideQty+t.startingSlide)}if(t.responsive){t.displaySlideQty=r.calculateDisplayQty()||1;e(window).bind("resize",H)}if(t.displaySlideQty<minSlides)t.displaySlideQty=minSlides;if(t.displaySlideQty>maxSlides)t.displaySlideQty=maxSlides;c=et();h=tt();j();if(t.pager&&!t.ticker){if(t.pagerType=="full"){K("full")}else if(t.pagerType=="short"){K("short")}}if(t.controls&&!t.ticker&&o.length>1){I()}if(t.auto||t.ticker){if(t.autoControls){U()}if(t.autoStart){b=false;setTimeout(function(){r.startShow(true)},t.autoDelay)}else{r.stopShow(true)}if(t.autoHover&&!t.ticker){z()}}if(t.moveSlideQty>1){V(Math.ceil(x/t.moveSlideQty))}else{V(x)}Y();if(t.captions){Q()}t.onAfterSlide(x,o.length,o.eq(x))};this.destroyShow=function(){clearInterval(d);u.children(".bx-next, .bx-prev, .bx-pager, .bx-auto").remove();i.unwrap().unwrap().removeAttr("style");i.children(t.childSelector).removeAttr("style").not(".bx-child").remove();o.removeClass("bx-child");if(t.responsive)e(window).unbind("resize",H)};this.reloadShow=function(){r.destroyShow();r.initShow()};this.each(function(){if(e(this).children().length>0){r.initShow()}});return this};jQuery.fx.prototype.cur=function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var e=parseFloat(jQuery.css(this.elem,this.prop));return e}})(jQuery)