/**
 * jQuery bxSlider v3.0
 * http://bxslider.com
 *
 * Copyright 2011, Steven Wanderski
 * http://bxcreative.com
 *
 * Free to use and abuse under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 * 
 */

(function(a){a.fn.bxSlider=function(t){var E={mode:"horizontal",infiniteLoop:true,hideControlOnEnd:false,controls:true,speed:500,easing:"swing",pager:false,pagerSelector:null,pagerType:"full",pagerLocation:"bottom",pagerShortSeparator:"/",pagerActiveClass:"pager-active",nextText:"next",nextImage:"",nextSelector:null,prevText:"prev",prevImage:"",prevSelector:null,captions:false,captionsSelector:null,auto:false,autoDirection:"next",autoControls:false,autoControlsSelector:null,autoStart:true,autoHover:false,autoDelay:0,pause:3000,startText:"start",startImage:"",stopText:"stop",stopImage:"",ticker:false,tickerSpeed:5000,tickerDirection:"next",tickerHover:false,wrapperClass:"bx-wrapper",startingSlide:0,displaySlideQty:1,moveSlideQty:1,randomStart:false,onBeforeSlide:function(){},onAfterSlide:function(){},onLastSlide:function(){},onFirstSlide:function(){},onNextSlide:function(){},onPrevSlide:function(){},buildPager:null};var t=a.extend(E,t);var n=this;var j="";var M="";var x="";var B="";var b="";var R="";var l="";var V="";var F="";var e="";var Y="";var I="";var Q="";var W="";var K=true;var y=false;var u=0;var J=0;var r=0;var X=0;var w=0;var p=0;var s=0;var O=0;var g=0;var U=false;var N=0;var v=M.length-1;this.goToSlide=function(Z,aa){if(!U){U=true;r=Z;t.onBeforeSlide(r,M.length,M.eq(r));if(typeof(aa)=="undefined"){var aa=true}if(aa){if(t.auto){n.stopShow(true)}}slide=Z;if(slide==N){t.onFirstSlide(r,M.length,M.eq(r))}if(slide==v){t.onLastSlide(r,M.length,M.eq(r))}if(t.mode=="horizontal"){j.animate({left:"-"+A(slide,"left")+"px"},t.speed,t.easing,function(){U=false;t.onAfterSlide(r,M.length,M.eq(r))})}else{if(t.mode=="vertical"){j.animate({top:"-"+A(slide,"top")+"px"},t.speed,t.easing,function(){U=false;t.onAfterSlide(r,M.length,M.eq(r))})}else{if(t.mode=="fade"){z()}}}d();if(t.moveSlideQty>1){Z=Math.floor(Z/t.moveSlideQty)}G(Z);S()}};this.goToNextSlide=function(ac){if(typeof(ac)=="undefined"){var ac=true}if(ac){if(t.auto){n.stopShow(true)}}if(!t.infiniteLoop){if(!U){var Z=false;r=(r+(t.moveSlideQty));if(r<=v){d();t.onNextSlide(r,M.length,M.eq(r));n.goToSlide(r)}else{r-=t.moveSlideQty}}}else{if(!U){U=true;var Z=false;r=(r+t.moveSlideQty);if(r>v){r=r%M.length;Z=true}t.onNextSlide(r,M.length,M.eq(r));t.onBeforeSlide(r,M.length,M.eq(r));if(t.mode=="horizontal"){var aa=(t.moveSlideQty*R);j.animate({left:"-="+aa+"px"},t.speed,t.easing,function(){U=false;if(Z){j.css("left","-"+A(r,"left")+"px")}t.onAfterSlide(r,M.length,M.eq(r))})}else{if(t.mode=="vertical"){var ab=(t.moveSlideQty*J);j.animate({top:"-="+ab+"px"},t.speed,t.easing,function(){U=false;if(Z){j.css("top","-"+A(r,"top")+"px")}t.onAfterSlide(r,M.length,M.eq(r))})}else{if(t.mode=="fade"){z()}}}if(t.moveSlideQty>1){G(Math.ceil(r/t.moveSlideQty))}else{G(r)}S()}}};this.goToPreviousSlide=function(ac){if(typeof(ac)=="undefined"){var ac=true}if(ac){if(t.auto){n.stopShow(true)}}if(!t.infiniteLoop){if(!U){var Z=false;r=r-t.moveSlideQty;if(r<0){r=0;if(t.hideControlOnEnd){a(".bx-prev",x).hide()}}d();t.onPrevSlide(r,M.length,M.eq(r));n.goToSlide(r)}}else{if(!U){U=true;var Z=false;r=(r-(t.moveSlideQty));if(r<0){negativeOffset=(r%M.length);if(negativeOffset==0){r=0}else{r=(M.length)+negativeOffset}Z=true}t.onPrevSlide(r,M.length,M.eq(r));t.onBeforeSlide(r,M.length,M.eq(r));if(t.mode=="horizontal"){var aa=(t.moveSlideQty*R);j.animate({left:"+="+aa+"px"},t.speed,t.easing,function(){U=false;if(Z){j.css("left","-"+A(r,"left")+"px")}t.onAfterSlide(r,M.length,M.eq(r))})}else{if(t.mode=="vertical"){var ab=(t.moveSlideQty*J);j.animate({top:"+="+ab+"px"},t.speed,t.easing,function(){U=false;if(Z){j.css("top","-"+A(r,"top")+"px")}t.onAfterSlide(r,M.length,M.eq(r))})}else{if(t.mode=="fade"){z()}}}if(t.moveSlideQty>1){G(Math.ceil(r/t.moveSlideQty))}else{G(r)}S()}}};this.goToFirstSlide=function(Z){if(typeof(Z)=="undefined"){var Z=true}n.goToSlide(N,Z)};this.goToLastSlide=function(){if(typeof(Z)=="undefined"){var Z=true}n.goToSlide(v,Z)};this.getCurrentSlide=function(){return r};this.getSlideCount=function(){return M.length};this.stopShow=function(Z){clearInterval(e);if(typeof(Z)=="undefined"){var Z=true}if(Z&&t.autoControls){Y.html(Q).removeClass("stop").addClass("start");K=false}};this.startShow=function(Z){if(typeof(Z)=="undefined"){var Z=true}m();if(Z&&t.autoControls){Y.html(W).removeClass("start").addClass("stop");K=true}};this.stopTicker=function(Z){j.stop();if(typeof(Z)=="undefined"){var Z=true}if(Z&&t.ticker){Y.html(Q).removeClass("stop").addClass("start");K=false}};this.startTicker=function(Z){if(t.mode=="horizontal"){if(t.tickerDirection=="next"){var ab=parseInt(j.css("left"));var ad=(p+ab)+M.eq(0).width()}else{if(t.tickerDirection=="prev"){var ab=-parseInt(j.css("left"));var ad=(ab)-M.eq(0).width()}}var ac=(ad*t.tickerSpeed)/p;D(O,ad,ac)}else{if(t.mode=="vertical"){if(t.tickerDirection=="next"){var aa=parseInt(j.css("top"));var ad=(s+aa)+M.eq(0).height()}else{if(t.tickerDirection=="prev"){var aa=-parseInt(j.css("top"));var ad=(aa)-M.eq(0).height()}}var ac=(ad*t.tickerSpeed)/s;D(g,ad,ac);if(typeof(Z)=="undefined"){var Z=true}if(Z&&t.ticker){Y.html(W).removeClass("start").addClass("stop");K=true}}}};this.initShow=function(){j=a(this);M=j.children();x="";B=j.children(":first");b=B.width();u=0;R=B.outerWidth();J=0;l=f();V=T();U=false;F="";r=0;X=0;w=0;e="";Y="";I="";Q="";W="";K=true;y=false;p=0;s=0;O=0;g=0;N=0;v=M.length-1;M.each(function(ab){if(a(this).outerHeight()>J){J=a(this).outerHeight()}if(a(this).outerWidth()>u){u=a(this).outerWidth()}});if(t.randomStart){var Z=Math.floor(Math.random()*M.length);r=Z;if(!t.infiniteLoop){Z--}X=R*(t.moveSlideQty+Z);w=J*(t.moveSlideQty+Z)}else{r=t.startingSlide;var aa=0;if(!t.infiniteLoop){aa=-1}X=R*(t.moveSlideQty+t.startingSlide+aa);w=J*(t.moveSlideQty+t.startingSlide+aa)}o();if(t.pager&&!t.ticker){if(t.pagerType=="full"){H("full")}else{if(t.pagerType=="short"){H("short")}}}if(t.controls&&!t.ticker){i()}if(t.auto||t.ticker){if(t.autoControls){q()}if(t.autoStart){setTimeout(function(){n.startShow(true)},t.autoDelay)}else{n.stopShow(true)}if(t.autoHover&&!t.ticker){C()}}if(t.moveSlideQty>1){G(Math.ceil(r/t.moveSlideQty))}else{G(r)}d();if(t.captions){S()}t.onAfterSlide(r,M.length,M.eq(r))};this.destroyShow=function(){clearInterval(e);a(".bx-next, .bx-prev, .bx-pager, .bx-auto",x).remove();j.unwrap().unwrap().removeAttr("style");j.children().removeAttr("style").not(".pager").remove();M.removeClass("pager")};this.reloadShow=function(){n.destroyShow();n.initShow()};function o(){P(t.startingSlide);if(t.mode=="horizontal"){j.wrap('<div class="'+t.wrapperClass+'" style="width:'+l+'px; position:relative;"></div>').wrap('<div class="bx-window" style="position:relative; overflow:hidden; width:'+l+'px;"></div>').css({width:"999999px",position:"relative",left:"-"+(X)+"px"});j.children().css({width:b,"float":"left",listStyle:"none"});x=j.parent().parent();M.addClass("pager")}else{if(t.mode=="vertical"){j.wrap('<div class="'+t.wrapperClass+'" style="width:'+u+'px; position:relative;"></div>').wrap('<div class="bx-window" style="width:'+u+"px; height:"+V+'px; position:relative; overflow:hidden;"></div>').css({height:"999999px",position:"relative",top:"-"+(w)+"px"});j.children().css({listStyle:"none",height:J});x=j.parent().parent();M.addClass("pager")}else{if(t.mode=="fade"){j.wrap('<div class="'+t.wrapperClass+'" style="width:'+u+'px; position:relative;"></div>').wrap('<div class="bx-window" style="height:'+J+"px; width:"+u+'px; position:relative; overflow:hidden;"></div>');j.children().css({listStyle:"none",position:"absolute",top:0,left:0,zIndex:98});x=j.parent().parent();M.not(":eq("+r+")").fadeTo(0,0);M.eq(r).css("zIndex",99)}}}if(t.captions&&t.captionsSelector==null){x.append('<div class="bx-captions"></div>')}}function P(){if(t.mode=="horizontal"||t.mode=="vertical"){if(t.infiniteLoop){var ac=L(M,0,t.moveSlideQty,"backward");a.each(ac,function(ae){j.prepend(a(this))})}var ab=(M.length+t.moveSlideQty)-1;var aa=M.length-t.displaySlideQty;var Z=ab-aa;var ad=L(M,0,Z,"forward");if(t.infiniteLoop){a.each(ad,function(ae){j.append(a(this))})}}}function i(){if(t.nextImage!=""){nextContent=t.nextImage;nextType="image"}else{nextContent=t.nextText;nextType="text"}if(t.prevImage!=""){prevContent=t.prevImage;prevType="image"}else{prevContent=t.prevText;prevType="text"}h(nextType,nextContent,prevType,prevContent)}function m(){if(t.auto){if(!t.infiniteLoop){if(t.autoDirection=="next"){e=setInterval(function(){r+=t.moveSlideQty;if(r>v){r=r%M.length}n.goToSlide(r,false)},t.pause)}else{if(t.autoDirection=="prev"){e=setInterval(function(){r-=t.moveSlideQty;if(r<0){negativeOffset=(r%M.length);if(negativeOffset==0){r=0}else{r=(M.length)+negativeOffset}}n.goToSlide(r,false)},t.pause)}}}else{if(t.autoDirection=="next"){e=setInterval(function(){n.goToNextSlide(false)},t.pause)}else{if(t.autoDirection=="prev"){e=setInterval(function(){n.goToPreviousSlide(false)},t.pause)}}}}else{if(t.ticker){t.tickerSpeed*=10;a(".pager",x).each(function(Z){p+=a(this).width();s+=a(this).height()});if(t.tickerDirection=="prev"&&t.mode=="horizontal"){j.css("left","-"+(p+X)+"px")}else{if(t.tickerDirection=="prev"&&t.mode=="vertical"){j.css("top","-"+(s+w)+"px")}}if(t.mode=="horizontal"){O=parseInt(j.css("left"));D(O,p,t.tickerSpeed)}else{if(t.mode=="vertical"){g=parseInt(j.css("top"));D(g,s,t.tickerSpeed)}}if(t.tickerHover){k()}}}}function D(aa,ab,Z){if(t.mode=="horizontal"){if(t.tickerDirection=="next"){j.animate({left:"-="+ab+"px"},Z,"linear",function(){j.css("left",aa);D(aa,p,t.tickerSpeed)})}else{if(t.tickerDirection=="prev"){j.animate({left:"+="+ab+"px"},Z,"linear",function(){j.css("left",aa);D(aa,p,t.tickerSpeed)})}}}else{if(t.mode=="vertical"){if(t.tickerDirection=="next"){j.animate({top:"-="+ab+"px"},Z,"linear",function(){j.css("top",aa);D(aa,s,t.tickerSpeed)})}else{if(t.tickerDirection=="prev"){j.animate({top:"+="+ab+"px"},Z,"linear",function(){j.css("top",aa);D(aa,s,t.tickerSpeed)})}}}}}function q(){if(t.startImage!=""){startContent=t.startImage;startType="image"}else{startContent=t.startText;startType="text"}if(t.stopImage!=""){stopContent=t.stopImage;stopType="image"}else{stopContent=t.stopText;stopType="text"}c(startType,startContent,stopType,stopContent)}function C(){x.find(".bx-window").hover(function(){if(K){n.stopShow(false)}},function(){if(K){n.startShow(false)}})}function k(){j.hover(function(){if(K){n.stopTicker(false)}},function(){if(K){n.startTicker(false)}})}function z(){M.not(":eq("+r+")").fadeTo(t.speed,0).css("zIndex",98);M.eq(r).css("zIndex",99).fadeTo(t.speed,1,function(){U=false;if(jQuery.browser.msie){M.eq(r).get(0).style.removeAttribute("filter")}t.onAfterSlide(r,M.length,M.eq(r))})}function G(Z){if(t.pagerType=="full"&&t.pager){a("a",F).removeClass(t.pagerActiveClass);a("a",F).eq(Z).addClass(t.pagerActiveClass)}else{if(t.pagerType=="short"&&t.pager){a(".bx-pager-current",F).html(r+1)}}}function h(ae,ad,Z,aa){var ab=a('<a href="" class="bx-next"></a>');var ac=a('<a href="" class="bx-prev"></a>');if(ae=="text"){ab.html(ad)}else{ab.html('<img src="'+ad+'" />')}if(Z=="text"){ac.html(aa)}else{ac.html('<img src="'+aa+'" />')}if(t.prevSelector){a(t.prevSelector).append(ac)}else{x.append(ac)}if(t.nextSelector){a(t.nextSelector).append(ab)}else{x.append(ab)}ab.click(function(){n.goToNextSlide();return false});ac.click(function(){n.goToPreviousSlide();return false})}function H(ac){var ab=M.length;if(t.moveSlideQty>1){if(M.length%t.moveSlideQty!=0){ab=Math.ceil(M.length/t.moveSlideQty)}else{ab=M.length/t.moveSlideQty}}var ad="";if(t.buildPager){for(var Z=0;Z<ab;Z++){ad+=t.buildPager(Z,M.eq(Z*t.moveSlideQty))}}else{if(ac=="full"){for(var Z=1;Z<=ab;Z++){ad+='<a href="" class="pager-link pager-'+Z+'">'+Z+"</a>"}}else{if(ac=="short"){ad='<span class="bx-pager-current">'+(t.startingSlide+1)+"</span> "+t.pagerShortSeparator+' <span class="bx-pager-total">'+M.length+"</span>"}}}if(t.pagerSelector){a(t.pagerSelector).append(ad);F=a(t.pagerSelector)}else{var aa=a('<div class="bx-pager"></div>');aa.append(ad);if(t.pagerLocation=="top"){x.prepend(aa)}else{if(t.pagerLocation=="bottom"){x.append(aa)}}F=a(".bx-pager",x)}F.children().click(function(){if(t.pagerType=="full"){var ae=F.children().index(this);if(t.moveSlideQty>1){ae*=t.moveSlideQty}n.goToSlide(ae)}return false})}function S(){var Z=a("img",M.eq(r)).attr("title");if(Z!=""){if(t.captionsSelector){a(t.captionsSelector).html(Z)}else{a(".bx-captions",x).html(Z)}}else{if(t.captionsSelector){a(t.captionsSelector).html("&nbsp;")}else{a(".bx-captions",x).html("&nbsp;")}}}function c(aa,ab,Z,ac){Y=a('<a href="" class="bx-start"></a>');if(aa=="text"){Q=ab}else{Q='<img src="'+ab+'" />'}if(Z=="text"){W=ac}else{W='<img src="'+ac+'" />'}if(t.autoControlsSelector){a(t.autoControlsSelector).append(Y)}else{x.append('<div class="bx-auto"></div>');a(".bx-auto",x).html(Y)}Y.click(function(){if(t.ticker){if(a(this).hasClass("stop")){n.stopTicker()}else{if(a(this).hasClass("start")){n.startTicker()}}}else{if(a(this).hasClass("stop")){n.stopShow(true)}else{if(a(this).hasClass("start")){n.startShow(true)}}}return false})}function d(){if(!t.infiniteLoop&&t.hideControlOnEnd){if(r==N){a(".bx-prev",x).hide()}else{a(".bx-prev",x).show()}if(r==v){a(".bx-next",x).hide()}else{a(".bx-next",x).show()}}}function A(ab,aa){if(aa=="left"){var Z=a(".pager",x).eq(ab).position().left}else{if(aa=="top"){var Z=a(".pager",x).eq(ab).position().top}}return Z}function f(){var Z=B.outerWidth()*t.displaySlideQty;return Z}function T(){var Z=B.outerHeight()*t.displaySlideQty;return Z}function L(af,ae,ac,ad){var ab=[];var aa=ac;var Z=false;if(ad=="backward"){af=a.makeArray(af);af.reverse()}while(aa>0){a.each(af,function(ag,ah){if(aa>0){if(!Z){if(ag==ae){Z=true;ab.push(a(this).clone());aa--}}else{ab.push(a(this).clone());aa--}}else{return false}})}return ab}this.each(function(){if(a(this).children().length>0){n.initShow()}});return this};jQuery.fx.prototype.cur=function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null)){return this.elem[this.prop]}var b=parseFloat(jQuery.css(this.elem,this.prop));return b}})(jQuery);